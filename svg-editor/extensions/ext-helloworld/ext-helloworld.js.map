{"version":3,"file":"ext-helloworld.js","sources":["../../../../src/editor/extensions/ext-helloworld/ext-helloworld.js","../../../../src/editor/extensions/ext-helloworld/locale/en.js","../../../../src/editor/extensions/ext-helloworld/locale/fr.js","../../../../src/editor/extensions/ext-helloworld/locale/tr.js","../../../../src/editor/extensions/ext-helloworld/locale/uk.js","../../../../src/editor/extensions/ext-helloworld/locale/zh-CN.js"],"sourcesContent":["/**\r\n * @file ext-helloworld.js\r\n *\r\n * @license MIT\r\n *\r\n * @copyright 2010 Alexis Deveria\r\n *\r\n */\r\n\r\n/**\r\n* This is a very basic SVG-Edit extension. It adds a \"Hello World\" button in\r\n*  the left (\"mode\") panel. Clicking on the button, and then the canvas\r\n*  will show the user the point on the canvas that was clicked on.\r\n*/\r\n\r\nconst name = 'helloworld'\r\n\r\nconst loadExtensionTranslation = async function (svgEditor) {\r\n  let translationModule\r\n  const lang = svgEditor.configObj.pref('lang')\r\n  try {\r\n    translationModule = await import(`./locale/${lang}.js`)\r\n  } catch (_error) {\r\n    console.warn(`Missing translation (${lang}) for ${name} - using 'en'`)\r\n    translationModule = await import('./locale/en.js')\r\n  }\r\n  svgEditor.i18next.addResourceBundle(lang, name, translationModule.default)\r\n}\r\n\r\nexport default {\r\n  name,\r\n  async init ({ _importLocale }) {\r\n    const svgEditor = this\r\n    await loadExtensionTranslation(svgEditor)\r\n    const { svgCanvas } = svgEditor\r\n    const { $id, $click } = svgCanvas\r\n    return {\r\n      name: svgEditor.i18next.t(`${name}:name`),\r\n      callback () {\r\n        // Add the button and its handler(s)\r\n        const buttonTemplate = document.createElement('template')\r\n        const title = `${name}:buttons.0.title`\r\n        buttonTemplate.innerHTML = `\r\n        <se-button id=\"hello_world\" title=\"${title}\" src=\"hello_world.svg\"></se-button>\r\n        `\r\n        $id('tools_left').append(buttonTemplate.content.cloneNode(true))\r\n        $click($id('hello_world'), () => {\r\n          svgCanvas.setMode('hello_world')\r\n        })\r\n      },\r\n      // This is triggered when the main mouse button is pressed down\r\n      // on the editor canvas (not the tool panels)\r\n      mouseDown () {\r\n        // Check the mode on mousedown\r\n        if (svgCanvas.getMode() === 'hello_world') {\r\n          // The returned object must include \"started\" with\r\n          // a value of true in order for mouseUp to be triggered\r\n          return { started: true }\r\n        }\r\n        return undefined\r\n      },\r\n\r\n      // This is triggered from anywhere, but \"started\" must have been set\r\n      // to true (see above). Note that \"opts\" is an object with event info\r\n      mouseUp (opts) {\r\n        // Check the mode on mouseup\r\n        if (svgCanvas.getMode() === 'hello_world') {\r\n          const zoom = svgCanvas.getZoom()\r\n\r\n          // Get the actual coordinate by dividing by the zoom value\r\n          const x = opts.mouse_x / zoom\r\n          const y = opts.mouse_y / zoom\r\n\r\n          // We do our own formatting\r\n          const text = svgEditor.i18next.t(`${name}:text`, { x, y })\r\n          // Show the text using the custom alert function\r\n          alert(text)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  name: 'Hello World',\r\n  text: 'Hello World!\\n\\nYou clicked here: {{x}}, {{y}}',\r\n  buttons: [\r\n    {\r\n      title: \"Say 'Hello World'\"\r\n    }\r\n  ]\r\n}\r\n","export default {\r\n  name: 'Bonjour le Monde',\r\n  text: 'Bonjour le Monde!\\n\\nVous avez cliqué ici: {{x}}, {{y}}',\r\n  buttons: [\r\n    {\r\n      title: \"Dire 'Bonjour le Monde'\"\r\n    }\r\n  ]\r\n}\r\n","export default {\r\n  name: 'Merhaba Dünya',\r\n  text: 'Merhaba Dünya!\\n\\nBuraya Tıkladınız: {{x}}, {{y}}',\r\n  buttons: [\r\n    {\r\n      title: \"'Merhaba Dünya' De\"\r\n    }\r\n  ]\r\n}\r\n","export default {\r\n  name: 'Привіт Світ',\r\n  text: 'Привіт Світ!\\n\\nВи клацнули тут: {{x}}, {{y}}',\r\n  buttons: [\r\n    {\r\n      title: \"Сказати 'Привіт Світ'\"\r\n    }\r\n  ]\r\n}\r\n","export default {\r\n  name: 'Hello World',\r\n  text: 'Hello World!\\n\\n 请点击: {{x}}, {{y}}',\r\n  buttons: [\r\n    {\r\n      title: \"输出 'Hello World'\"\r\n    }\r\n  ]\r\n}\r\n"],"names":["name","loadExtensionTranslation","svgEditor","translationModule","lang","configObj","pref","__variableDynamicImportRuntime0__","_error","console","warn","i18next","addResourceBundle","default","init","_ref","svgCanvas","$id","$click","t","callback","buttonTemplate","document","createElement","title","innerHTML","append","content","cloneNode","setMode","mouseDown","getMode","started","undefined","mouseUp","opts","zoom","getZoom","x","mouse_x","y","mouse_y","text","alert","buttons"],"mappings":"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"}